# CollageStates - åœ¨çº¿æ‹¼è´´å·¥å…·

ä¸€ä¸ªåŸºäº AI ç”ŸæˆèƒŒæ™¯çš„åœ¨çº¿æ‹¼è´´å·¥å…·ï¼Œæ”¯æŒå¤šäººå®æ—¶åä½œã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¨ AI ç”Ÿæˆç¾å›½é£æ™¯èƒŒæ™¯å›¾ï¼ˆä½¿ç”¨ Replicate APIï¼‰
- ğŸ–¼ï¸ PNG ç´ æä¸Šä¼ å’Œç®¡ç†
- âœ‚ï¸ ç”»å¸ƒæ‹¼è´´æ“ä½œï¼ˆæ‹–æ‹½ã€ç¼©æ”¾ã€æ—‹è½¬ï¼‰
- ğŸ‘¥ å¤šäººå®æ—¶äº’åŠ¨ï¼ˆSocket.ioï¼‰
- ğŸ’¾ PNG æ ¼å¼ä¸‹è½½ï¼ˆä¿ç•™é€æ˜èƒŒæ™¯ï¼‰

## æŠ€æœ¯æ ˆ

- **åç«¯**: Node.js + Express
- **å®æ—¶é€šä¿¡**: Socket.io
- **AI ç”Ÿæˆ**: Replicate API
- **å‰ç«¯**: HTML5 Canvas + Vanilla JavaScript

## å®‰è£…å’Œè¿è¡Œ

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
REPLICATE_API_TOKEN=your_replicate_api_token_here
PORT=3000
```

**è·å– Replicate API Token**:
1. è®¿é—® [Replicate](https://replicate.com)
2. æ³¨å†Œ/ç™»å½•è´¦å·
3. è¿›å…¥ [Account Settings](https://replicate.com/account/api-tokens)
4. åˆ›å»ºæ–°çš„ API token
5. å°† token å¤åˆ¶åˆ° `.env` æ–‡ä»¶ä¸­

### 3. åˆ›å»ºå¿…è¦çš„ç›®å½•

```bash
mkdir -p server/uploads
mkdir -p public/assets
```

### 4. å¯åŠ¨æœåŠ¡å™¨

```bash
npm start
```

æˆ–ä½¿ç”¨å¼€å‘æ¨¡å¼ï¼ˆè‡ªåŠ¨é‡å¯ï¼‰ï¼š

```bash
npm run dev
```

### 5. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š`http://localhost:3000`

## é¡¹ç›®ç»“æ„

```
CollageStates/
â”œâ”€â”€ server/              # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ server.js        # Express æœåŠ¡å™¨
â”‚   â”œâ”€â”€ routes/          # API è·¯ç”±
â”‚   â”œâ”€â”€ services/        # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”‚   â”œâ”€â”€ socket/          # Socket.io å¤„ç†
â”‚   â””â”€â”€ uploads/         # ä¸Šä¼ æ–‡ä»¶å­˜å‚¨
â”œâ”€â”€ public/              # å‰ç«¯é™æ€æ–‡ä»¶
â”‚   â”œâ”€â”€ index.html       # ä¸»é¡µé¢
â”‚   â”œâ”€â”€ css/             # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ js/              # JavaScript æ–‡ä»¶
â”‚   â””â”€â”€ assets/          # é™æ€èµ„æº
â””â”€â”€ .env                 # ç¯å¢ƒå˜é‡ï¼ˆä¸æäº¤ï¼‰
```

## ä½¿ç”¨è¯´æ˜

1. **è®¾ç½®ç”¨æˆ·ä¿¡æ¯**: è¾“å…¥æ˜µç§°å¹¶é€‰æ‹©é¢œè‰²æ ‡è¯†
2. **ç”ŸæˆèƒŒæ™¯**: ç‚¹å‡»"ç”ŸæˆèƒŒæ™¯"æŒ‰é’®ï¼Œç­‰å¾… AI ç”Ÿæˆç¾å›½é£æ™¯å›¾
3. **ä¸Šä¼ ç´ æ**: ç‚¹å‡»"ä¸Šä¼ ç´ æ"æŒ‰é’®ï¼Œé€‰æ‹© PNG å›¾ç‰‡
4. **æ‹¼è´´æ“ä½œ**: ä»ç´ æåº“é€‰æ‹©å›¾ç‰‡ï¼Œæ‹–æ‹½åˆ°ç”»å¸ƒä¸Šï¼Œå¯ä»¥è°ƒæ•´ä½ç½®å’Œå¤§å°
5. **å¤šäººäº’åŠ¨**: å…¶ä»–ç”¨æˆ·çš„æ“ä½œä¼šå®æ—¶æ˜¾ç¤ºåœ¨ä½ çš„ç”»å¸ƒä¸Šï¼ˆåŠé€æ˜æ˜¾ç¤ºï¼‰
6. **ä¸‹è½½ä½œå“**: ç‚¹å‡»"ä¸‹è½½æ‹¼è´´"æŒ‰é’®ï¼Œä¿å­˜ä¸º PNG æ ¼å¼

## å¼€å‘

### æ·»åŠ æ–°çš„ç´ æ

å°† PNG å›¾ç‰‡æ”¾å…¥ `server/uploads/` ç›®å½•ï¼Œæˆ–é€šè¿‡ç½‘é¡µä¸Šä¼ åŠŸèƒ½æ·»åŠ ã€‚

### è‡ªå®šä¹‰èƒŒæ™¯ç”Ÿæˆ

ä¿®æ”¹ `server/services/replicate.js` ä¸­çš„ prompt æ¨¡æ¿æ¥æ”¹å˜èƒŒæ™¯é£æ ¼ã€‚

## License

MIT

